# Note: This is a full specification, but only paths are actually used.
# Any refs are rewritten as absolute file uris.
---
swagger: "2.0"
paths:
  /authors:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::AuthorsController#list"
      operationId: ListAuthors
      tags:
        - authors
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of authors
          schema:
            type: object
            properties:
              authors:
                type: array
                items:
                  type: object
                  properties:
                    author:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of authors
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        404:
          description: Not Found
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /authors-as-subject:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::AuthorsAsSubjectController#list"
      operationId: ListAuthorsAsSubject
      tags:
        - authorsassubject
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of authors as subject
          schema:
            type: object
            properties:
              subjects:
                type: array
                items:
                  type: object
                  properties:
                    subject:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of authors as subject
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /biblios/basicsearch:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::BibliosBasicSearchController#list"
      operationId: ListBasicSearchBiblios
      tags:
        - basicsearch
      produces:
        - application/json
      parameters:
        - name: search_in
          in: query
          description: Search in
          required: true
          type: enum
          enum:
            - au,phr
            - kw,phr
            - pb,phr
            - su,phr
            - ti,phr
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
        - name: q
          in: query
          description: Search query
          required: true
          type: string
        - name: sort_by
          in: query
          description: Sort order (title_az or title_za)
          required: false
          type: string
          enum:
            - author_az
            - pubdate_dsc
            - title_az
      responses:
        200:
          description: A List of biblios for fast access
          schema:
            type: object
            properties:
              biblios:
                type: array
                items:
                  type: object
                  properties:
                    author:
                      type: string
                      description: Main author name (MARC field 100a)
                    author_dates:
                      type: string
                      description: Author's birth/death dates (MARC field 100d)
                    title:
                      type: string
                      description: Main title of the work (MARC field 245a)
                    title_remainder:
                      type: string
                      description: Subtitle or remainder of title (MARC field 245b)
                    statement_of_responsibility:
                      type: string
                      description: Statement of responsibility (MARC field 245c)
                    title_proper:
                      type: string
                      description: Variant title (MARC field 246a)
                    title_proper_remainder:
                      type: string
                      description: Remainder of variant title (MARC field 246b)
                    edition_statement:
                      type: string
                      description: Edition information (MARC field 250a)
                    publication_location:
                      type: string
                      description: Place of publication (MARC field 260a)
                    publisher:
                      type: string
                      description: Publisher name (MARC field 260b)
                    publication_date:
                      type: string
                      description: Date of publication (MARC field 260c)
                    extent:
                      type: string
                      description: Physical extent of the item (MARC field 300a)
                    other_physical_details:
                      type: string
                      description: Other physical details (MARC field 300b)
                    series_title:
                      type: string
                      description: Series title (MARC field 440a)
                    series_volume_number:
                      type: string
                      description: Volume number within series (MARC field 440v)
                    author_as_subject:
                      type: string
                      description: Author as subject (MARC field 600a)
                    subject:
                      type: string
                      description: Topical subject (MARC field 650a)
                    subject_general_subdivision:
                      type: string
                      description: General subdivision of subject (MARC field 650x)
                    added_author:
                      type: string
                      description: Added entry - personal name (MARC field 700a)
                    added_author_dates:
                      type: string
                      description: Dates associated with added author (MARC field 700d)
                    host_item_relationship:
                      type: string
                      description: Host item relationship information (MARC field 773g)
                    host_item_title:
                      type: string
                      description: Title of host item (MARC field 773t)
                    uri:
                      type: string
                      description: Electronic location and access URL (MARC field 856u)
                    document_type:
                      type: string
                      description: Document type (MARC field 911a)
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of items
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /biblios/fastaccess:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::BibliosFastAccessController#list"
      operationId: ListFastAccessBiblios
      tags:
        - fastaccess
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
        - name: q
          in: query
          description: Search query
          required: true
          type: string
        - name: sort_by
          in: query
          description: Sort order (title_az or title_za)
          required: false
          type: string
          enum:
            - author_az
            - pubdate_dsc
            - title_az
      responses:
        200:
          description: A List of biblios for fast access
          schema:
            type: object
            properties:
              biblios:
                type: array
                items:
                  type: object
                  properties:
                    author:
                      type: string
                      description: Main author name (MARC field 100a)
                    author_dates:
                      type: string
                      description: Author's birth/death dates (MARC field 100d)
                    title:
                      type: string
                      description: Main title of the work (MARC field 245a)
                    title_remainder:
                      type: string
                      description: Subtitle or remainder of title (MARC field 245b)
                    statement_of_responsibility:
                      type: string
                      description: Statement of responsibility (MARC field 245c)
                    title_proper:
                      type: string
                      description: Variant title (MARC field 246a)
                    title_proper_remainder:
                      type: string
                      description: Remainder of variant title (MARC field 246b)
                    edition_statement:
                      type: string
                      description: Edition information (MARC field 250a)
                    publication_location:
                      type: string
                      description: Place of publication (MARC field 260a)
                    publisher:
                      type: string
                      description: Publisher name (MARC field 260b)
                    publication_date:
                      type: string
                      description: Date of publication (MARC field 260c)
                    extent:
                      type: string
                      description: Physical extent of the item (MARC field 300a)
                    other_physical_details:
                      type: string
                      description: Other physical details (MARC field 300b)
                    series_title:
                      type: string
                      description: Series title (MARC field 440a)
                    series_volume_number:
                      type: string
                      description: Volume number within series (MARC field 440v)
                    author_as_subject:
                      type: string
                      description: Author as subject (MARC field 600a)
                    subject:
                      type: string
                      description: Topical subject (MARC field 650a)
                    subject_general_subdivision:
                      type: string
                      description: General subdivision of subject (MARC field 650x)
                    added_author:
                      type: string
                      description: Added entry - personal name (MARC field 700a)
                    added_author_dates:
                      type: string
                      description: Dates associated with added author (MARC field 700d)
                    host_item_relationship:
                      type: string
                      description: Host item relationship information (MARC field 773g)
                    host_item_title:
                      type: string
                      description: Title of host item (MARC field 773t)
                    uri:
                      type: string
                      description: Electronic location and access URL (MARC field 856u)
                    document_type:
                      type: string
                      description: Document type (MARC field 911a)
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of items
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /publishers:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::PublishersController#list"
      operationId: ListPublishers
      tags:
        - publishers
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of publishers
          schema:
            type: object
            properties:
              publishers:
                type: array
                items:
                  type: object
                  properties:
                    publisher:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total item count
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /series-titles:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::SeriesTitlesController#list"
      operationId: ListSeriesTitles
      tags:
        - seriestitles
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of series titles
          schema:
            type: object
            properties:
              seriestitles:
                type: array
                items:
                  type: object
                  properties:
                    seriestitle:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of series titles
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /subjects:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::SubjectsController#list"
      operationId: ListSubjects
      tags:
        - subjects
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of subjects
          schema:
            type: object
            properties:
              subjects:
                type: array
                items:
                  type: object
                  properties:
                    subject:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of series titles
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /titles:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::TitlesController#list"
      operationId: ListTitles
      tags:
        - titles
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of titles
          schema:
            type: object
            properties:
              titles:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of series titles
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
