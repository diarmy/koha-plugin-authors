# Note: This is a full specification, but only paths are actually used.
# Any refs are rewritten as absolute file uris.
---
swagger: "2.0"
paths:
  /authors:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::AuthorsController#list"
      operationId: ListAuthors
      tags:
        - authors
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of authors
          schema:
            type: object
            properties:
              authors:
                type: array
                items:
                  type: object
                  properties:
                    author:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of authors
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        404:
          description: Not Found
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /authors-as-subject:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::AuthorsAsSubjectController#list"
      operationId: ListAuthorsAsSubject
      tags:
        - authorsassubject
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of authors as subject
          schema:
            type: object
            properties:
              subjects:
                type: array
                items:
                  type: object
                  properties:
                    subject:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of authors as subject
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /biblios/basicsearch:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::BibliosBasicSearchController#list"
      operationId: ListBasicSearchBiblios
      tags:
        - basicsearch
      produces:
        - application/json
      parameters:
        - name: search_in
          in: query
          description: Search in
          required: true
          type: string
          enum:
            - au,phr
            - kw
            - pb,phr
            - se
            - su,phr
            - ti,phr
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
        - name: q
          in: query
          description: Search query
          required: true
          type: string
        - name: sort_by
          in: query
          description: Sort order (title_az or title_za)
          required: false
          type: string
          enum:
            - author_az
            - pubdate_dsc
            - title_az
      responses:
        200:
          description: A List of biblios
          schema:
            $ref: ./openapi/definitions.yaml#/biblios
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /biblios/fastaccess:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::BibliosFastAccessController#list"
      operationId: ListFastAccessBiblios
      tags:
        - fastaccess
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
        - name: q
          in: query
          description: Search query
          required: true
          type: string
        - name: sort_by
          in: query
          description: Sort order (title_az or title_za)
          required: false
          type: string
          enum:
            - author_az
            - pubdate_dsc
            - title_az
      responses:
        200:
          description: A List of biblios for fast access
          schema:
            $ref: ./openapi/definitions.yaml#/biblios
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /publishers:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::PublishersController#list"
      operationId: ListPublishers
      tags:
        - publishers
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of publishers
          schema:
            type: object
            properties:
              publishers:
                type: array
                items:
                  type: object
                  properties:
                    publisher:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total item count
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /series-titles:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::SeriesTitlesController#list"
      operationId: ListSeriesTitles
      tags:
        - seriestitles
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of series titles
          schema:
            type: object
            properties:
              seriestitles:
                type: array
                items:
                  type: object
                  properties:
                    seriestitle:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of series titles
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /subjects:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::SubjectsController#list"
      operationId: ListSubjects
      tags:
        - subjects
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of subjects
          schema:
            type: object
            properties:
              subjects:
                type: array
                items:
                  type: object
                  properties:
                    subject:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of series titles
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
  /titles:
    get:
      x-mojo-to: "Oxlit::Browse::Controllers::TitlesController#list"
      operationId: ListTitles
      tags:
        - titles
      produces:
        - application/json
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          type: integer
        - name: per_page
          in: query
          description: Number of items per page
          required: false
          type: integer
      responses:
        200:
          description: A List of titles
          schema:
            type: object
            properties:
              titles:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
              pagination:
                type: object
                properties:
                  total_count:
                    type: integer
                    description: Total number of series titles
                  total_pages:
                    type: integer
                    description: Total number of pages
                  current_page:
                    type: integer
                    description: Current page number
                  per_page:
                    type: integer
                    description: Number of items per page
        401:
          description: Authentication required
          schema:
            type: object
            properties:
              error:
                description: An explanation for the error
                type: string
